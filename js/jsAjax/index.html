<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
</head>

<body>
  <script>
    // $.ajax({
    //   url: 'http://neteasecloudmusicapi.zhaoboy.com/top/list',
    //   data: {
    //     idx: 1
    //   },
    //   dataType: 'JSON',
    //   type: 'Get',
    //   success: (res) => {
    //     console.log(res)
    //   }
    // })
  </script>
  <!-- get -->
  <!-- <script>
    
        //定义方法
        function fun() {
            //发送异步请求
            //1.创建核心对象
            var xmlhttp;
            if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            }
            else {// code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            //2. 建立连接
            /*
                参数：
                    1. 请求方式：GET、POST
                        * get方式，请求参数在URL后边拼接。send方法为空参
                        * post方式，请求参数在send方法中定义
                    2. 请求的URL：
                    3. 同步或异步请求：true（异步）或 false（同步）
             */
            xmlhttp.open("GET", "ajaxServlet?username=tom", true);

            //3.发送请求
            xmlhttp.send();

            //4.接受并处理来自服务器的响应结果
            //获取方式 ：xmlhttp.responseText
            //什么时候获取？当服务器响应成功后再获取

            //当xmlhttp对象的就绪状态改变时，触发事件onreadystatechange。
            xmlhttp.onreadystatechange = function () {
                //判断readyState就绪状态是否为4，判断status响应状态码是否为200
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    //获取服务器的响应结果
                    var responseText = xmlhttp.responseText;
                    alert(responseText);
                }
            }
        }
  </script> -->
  <!-- <script>
    var xhr = new XMLHttpRequest()
    xhr.open('post', 'http://neteasecloudmusicapi.zhaoboy.com/top/list')
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded",true)//post请求一定要设置请求头
    xhr.send('idx=1')
    //当xmlhttp对象的就绪状态改变时，触发事件onreadystatechange。
    xhr.onreadystatechange = function () {
      //判断readyState就绪状态是否为4，判断status响应状态码是否为200
      if (xhr.readyState == 4 && xhr.status == 200) {
        //获取服务器的响应结果
        var responseText = xhr.responseText;
        // alert(responseText);
      }
    }
  </script> -->
  <script>
    function request(method, url, data, success) {
      var ajax = new XMLHttpRequest()
      if (method == 'get' || method == "GET") {
        if (data) {
          url += '?'
          url += data
        } else {

        }
        ajax.open(method, url)
        xml.send()
      }
      else {
        //post请求
        ajax.open(method, url)
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded", true)//post请求一定要设置请求头
        if (data) {
          ajax.send(data)
        } else {
          ajax.send()
        }
      }
      ajax.onreadystatechange = function () {
        //判断readyState就绪状态是否为4，判断status响应状态码是否为200
        if (ajax.readyState == 4 && ajax.status == 200) {
          //获取服务器的响应结果
          success(ajax.responseText);
        }
      }
    }
  </script>
</body>

</html>